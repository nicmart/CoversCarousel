/*
 *  Covers Carousel - v0.1.7
 *  A death-simple, mobile-friendly cover carousel plugin
 *  https://github.com/nicmart/covers-carousel
 *
 *  Made by NicolÃ² Martini
 *  Under MIT License
 */
!function(a,b){function c(b,c){this.element=a(b),this.options=a.extend({},m,c),this._defaults=m,this._name=l,this.init()}function d(b){var c=a(b);return c.next().length?c.next():c.parent().children().first()}function e(b){var c=a(b);return c.prev().length?c.prev():c.parent().children().last()}function f(b,c){return a(b).nextAll().filter(c).length>0}function g(b,c){var d=a(b),e=a(c);return e.position().left-d.position().left+e.outerWidth()}function h(a){var c=b,d=i(c,"document")&&c.document,e=d&&i(d,"createElement")&&d.createElement("DiV"),f=["Webkit","Moz","O","ms","Khtml"],g=!1,h=a.charAt(0).toUpperCase()+a.slice(1),j=f.length,k=e.style;if("string"==typeof k[a])g=!0;else for(;j--;)if("string"==typeof k[f[j]+h]){g=!0;break}return g}function i(a,b){var c=typeof a[b],d={"boolean":1,number:1,string:1,undefined:1};return"object"==c?!!a[b]:!d[c]}var j={getOffset:function(b){return parseInt(a(b).css("left"))},setOffset:function(b,c){a(b).css({left:c+"px"})}},k={getOffset:function(b){var c=a(b).css("transform");return parseInt(c.substring(c.indexOf("(")+1,c.indexOf(")")).split(", ")[4])},setOffset:function(b,c){a(b).css("transform","translateX("+c+"px)")}},l="coversCarousel",m={innerWrapperSelector:".carousel-items",itemSelector:".item",nextSelector:".next",prevSelector:".prev",isTransformSupported:function(){return h("transform")}};c.prototype={init:function(){this.innerWrapper=this.element.find(this.options.innerWrapperSelector),this.element.on("click",this.options.nextSelector,this.moveForward.bind(this)),this.element.on("click",this.options.prevSelector,this.moveBackward.bind(this)),this.mover=this.options.isTransformSupported()?k:j},items:function(){return this.element.find(this.options.itemSelector)},setStart:function(b){this.mover.setOffset(this.innerWrapper,-a(b).position().left)},setEnd:function(b){for(var c=this.element.width(),h=a(b),i=e(h);f(i,h)&&g(i,h)<=c;)i=e(i);this.setStart(d(i))},moveForward:function(){this.setEnd(e(this.firstNotVisible(this.firstNotVisible())))},moveBackward:function(){this.setEnd(e(this.firstVisible()))},firstVisible:function(){for(var b=this.items(),c=parseInt(this.mover.getOffset(this.innerWrapper)),d=0;d<b.length;d++){var e=a(b[d]);if(e.position().left+c>=0)return e}return b[0]},firstNotVisible:function(b){for(var c=this.element.width(),e=a(b||this.firstVisible()),h=d(e);f(e,h)&&g(e,h)<=c;)h=d(h);return h}},a.fn[l]=function(b){return this.each(function(){a.data(this,l)||a.data(this,l,new c(this,b))})}}(jQuery,window,document);