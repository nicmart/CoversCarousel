/*
 *  Covers Carousel - v0.1
 *  A death-simple, mobile-friendly cover carousel plugin
 *  http://jqueryboilerplate.com
 *
 *  Made by NicolÃ² Martini
 *  Under MIT License
 */
!function(a){function b(b,c){this.element=a(b),this.options=a.extend({},h,c),this._defaults=h,this._name=g,this.init()}function c(b){return $elem=a(b),$elem.next().length?$elem.next():$elem.parent().children().first()}function d(b){return $elem=a(b),$elem.prev().length?$elem.prev():$elem.parent().children().last()}function e(b,c){return a(b).nextAll().filter(c).length>0}function f(b,c){var d=a(b),e=a(c);return e.position().left-d.position().left+e.outerWidth()}var g="coversCarousel",h={innerWrapperSelector:".carousel-items",itemSelector:".item",nextSelector:".next",prevSelector:".prev"};b.prototype={init:function(){this.innerWrapper=this.element.find(this.options.innerWrapperSelector),this.element.on("click",this.options.nextSelector,this.moveForward.bind(this)),this.element.on("click",this.options.prevSelector,this.moveBackward.bind(this))},items:function(){return this.element.find(this.options.itemSelector)},moveTo:function(b){this.innerWrapper.css({left:-a(b).position().left+"px"})},moveForward:function(){this.moveTo(this.firstNotVisible())},moveBackward:function(){this.moveTo(this.backwardFirst())},firstVisible:function(){var b=this.items(),c=parseInt(this.innerWrapper.css("left"));for(i=0;i<b.length;i++){var d=a(b[i]);if(d.position().left+c>=0)return d}return b[0]},firstNotVisible:function(){for(var b=this.element.width(),d=a(this.firstVisible()),g=c(d);e(d,g)&&f(d,g)<=b;)g=c(g);return g},backwardFirst:function(){for(var a=this.element.width(),b=d(this.firstVisible()),g=d(b);e(g,b)&&f(g,b)<=a;)g=d(g);return c(g)}},a.fn[g]=function(c){return this.each(function(){a.data(this,g)||a.data(this,g,new b(this,c))})}}(jQuery,window,document);